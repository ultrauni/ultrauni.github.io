!function(r){var d={sectionContainer:"section",easing:"ease",animationTime:1e3,pagination:!0,updateURL:!1,keyboard:!0,beforeMove:null,afterMove:null,loop:!1,responsiveFallback:1024,direction:"vertical"};r.fn.swipeEvents=function(){return this.each(function(){var t,o,s=r(this);function d(e){var a=e.originalEvent.touches;if(a&&a.length){var n=t-a[0].pageX,i=o-a[0].pageY;50<=n&&s.trigger("swipeLeft"),n<=-50&&s.trigger("swipeRight"),50<=i&&s.trigger("swipeUp"),i<=-50&&s.trigger("swipeDown"),(50<=Math.abs(n)||50<=Math.abs(i))&&(s.unbind("touchmove",d),s.unbind("touchend",l))}e.preventDefault()}function l(e){s.unbind("touchmove",d),e.preventDefault()}s.bind("touchstart",function(e){var a=e.originalEvent.touches;a&&a.length&&(t=a[0].pageX,o=a[0].pageY,s.bind("touchmove",d),s.bind("touchend",l));e.preventDefault()})})},r.fn.onepage_scroll=function(e){var i=r.extend({},d,e),t=r(this),a=r(i.sectionContainer);function n(){var e=!1,a=typeof i.responsiveFallback;"number"==a&&(e=r(window).width()<i.responsiveFallback),"boolean"==a&&(e=i.responsiveFallback),"function"==a&&(valFunction=i.responsiveFallback(),e=valFunction,typeOFv=typeof e,"number"==typeOFv&&(e=r(window).width()<valFunction)),e?(r("body").addClass("disabled-onepage-scroll"),r(document).unbind("mousewheel DOMMouseScroll MozMousePixelScroll"),t.swipeEvents().unbind("swipeDown swipeUp")):(r("body").hasClass("disabled-onepage-scroll")&&(r("body").removeClass("disabled-onepage-scroll"),r("html, body, .wrapper").animate({scrollTop:0},"fast")),t.swipeEvents().bind("swipeDown",function(e){r("body").hasClass("disabled-onepage-scroll")||e.preventDefault(),t.moveUp()}).bind("swipeUp",function(e){r("body").hasClass("disabled-onepage-scroll")||e.preventDefault(),t.moveDown()}),r(document).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(e){e.preventDefault(),o(e,e.originalEvent.wheelDelta||-e.originalEvent.detail)}))}function o(e,a){deltaOfInterest=a;var n=(new Date).getTime();n-lastAnimation<quietPeriod+i.animationTime?e.preventDefault():(deltaOfInterest<0?t.moveDown():t.moveUp(),lastAnimation=n)}if(total=a.length,status="off",topPos=0,leftPos=0,lastAnimation=0,quietPeriod=500,paginationList="",r.fn.transformPage=function(a,e,n){if("function"==typeof a.beforeMove&&a.beforeMove(n),r("html").hasClass("ie8"))if("horizontal"==a.direction){var i=t.width()/100*e;r(this).animate({left:i+"px"},a.animationTime)}else{i=t.height()/100*e;r(this).animate({top:i+"px"},a.animationTime)}else r(this).css({"-webkit-transform":"horizontal"==a.direction?"translate3d("+e+"%, 0, 0)":"translate3d(0, "+e+"%, 0)","-webkit-transition":"all "+a.animationTime+"ms "+a.easing,"-moz-transform":"horizontal"==a.direction?"translate3d("+e+"%, 0, 0)":"translate3d(0, "+e+"%, 0)","-moz-transition":"all "+a.animationTime+"ms "+a.easing,"-ms-transform":"horizontal"==a.direction?"translate3d("+e+"%, 0, 0)":"translate3d(0, "+e+"%, 0)","-ms-transition":"all "+a.animationTime+"ms "+a.easing,transform:"horizontal"==a.direction?"translate3d("+e+"%, 0, 0)":"translate3d(0, "+e+"%, 0)",transition:"all "+a.animationTime+"ms "+a.easing});r(this).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(e){"function"==typeof a.afterMove&&a.afterMove(n)})},r.fn.moveDown=function(){var e=r(this);if(index=r(i.sectionContainer+".active").data("index"),current=r(i.sectionContainer+"[data-index='"+index+"']"),next=r(i.sectionContainer+"[data-index='"+(index+1)+"']"),next.length<1){if(1!=i.loop)return;pos=0,next=r(i.sectionContainer+"[data-index='1']")}else pos=100*index*-1;if("function"==typeof i.beforeMove&&i.beforeMove(next.data("index")),current.removeClass("active"),next.addClass("active"),1==i.pagination&&(r(".onepage-pagination li a[data-index='"+index+"']").removeClass("active"),r(".onepage-pagination li a[data-index='"+next.data("index")+"']").addClass("active")),r("body")[0].className=r("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,""),r("body").addClass("viewing-page-"+next.data("index")),history.replaceState&&1==i.updateURL){var a=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(index+1);history.pushState({},document.title,a)}e.transformPage(i,pos,next.data("index"))},r.fn.moveUp=function(){var e=r(this);if(index=r(i.sectionContainer+".active").data("index"),current=r(i.sectionContainer+"[data-index='"+index+"']"),next=r(i.sectionContainer+"[data-index='"+(index-1)+"']"),next.length<1){if(1!=i.loop)return;pos=100*(total-1)*-1,next=r(i.sectionContainer+"[data-index='"+total+"']")}else pos=100*(next.data("index")-1)*-1;if("function"==typeof i.beforeMove&&i.beforeMove(next.data("index")),current.removeClass("active"),next.addClass("active"),1==i.pagination&&(r(".onepage-pagination li a[data-index='"+index+"']").removeClass("active"),r(".onepage-pagination li a[data-index='"+next.data("index")+"']").addClass("active")),r("body")[0].className=r("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,""),r("body").addClass("viewing-page-"+next.data("index")),history.replaceState&&1==i.updateURL){var a=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(index-1);history.pushState({},document.title,a)}e.transformPage(i,pos,next.data("index"))},r.fn.moveTo=function(e){if(current=r(i.sectionContainer+".active"),next=r(i.sectionContainer+"[data-index='"+e+"']"),0<next.length){if("function"==typeof i.beforeMove&&i.beforeMove(next.data("index")),current.removeClass("active"),next.addClass("active"),r(".onepage-pagination li a.active").removeClass("active"),r(".onepage-pagination li a[data-index='"+e+"']").addClass("active"),r("body")[0].className=r("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,""),r("body").addClass("viewing-page-"+next.data("index")),pos=100*(e-1)*-1,history.replaceState&&1==i.updateURL){var a=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(e-1);history.pushState({},document.title,a)}t.transformPage(i,pos,e)}},t.addClass("onepage-wrapper").css("position","relative"),r.each(a,function(e){r(this).css({position:"absolute",top:topPos+"%"}).addClass("section").attr("data-index",e+1),r(this).css({position:"absolute",left:"horizontal"==i.direction?leftPos+"%":0,top:"vertical"==i.direction||"horizontal"!=i.direction?topPos+"%":0}),"horizontal"==i.direction?leftPos+=100:topPos+=100,1==i.pagination&&(paginationList+="<li><a data-index='"+(e+1)+"' href='#"+(e+1)+"'></a></li>")}),t.swipeEvents().bind("swipeDown",function(e){r("body").hasClass("disabled-onepage-scroll")||e.preventDefault(),t.moveUp()}).bind("swipeUp",function(e){r("body").hasClass("disabled-onepage-scroll")||e.preventDefault(),t.moveDown()}),1==i.pagination&&(r("ul.onepage-pagination").length<1&&r("<ul class='onepage-pagination'></ul>").prependTo("body"),"horizontal"==i.direction?(posLeft=t.find(".onepage-pagination").width()/2*-1,t.find(".onepage-pagination").css("margin-left",posLeft)):(posTop=t.find(".onepage-pagination").height()/2*-1,t.find(".onepage-pagination").css("margin-top",posTop)),r("ul.onepage-pagination").html(paginationList)),""!=window.location.hash&&"#1"!=window.location.hash)if(init_index=window.location.hash.replace("#",""),parseInt(init_index)<=total&&0<parseInt(init_index)){if(r(i.sectionContainer+"[data-index='"+init_index+"']").addClass("active"),r("body").addClass("viewing-page-"+init_index),1==i.pagination&&r(".onepage-pagination li a[data-index='"+init_index+"']").addClass("active"),next=r(i.sectionContainer+"[data-index='"+init_index+"']"),next&&(next.addClass("active"),1==i.pagination&&r(".onepage-pagination li a[data-index='"+init_index+"']").addClass("active"),r("body")[0].className=r("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,""),r("body").addClass("viewing-page-"+next.data("index")),history.replaceState&&1==i.updateURL)){var s=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+init_index;history.pushState({},document.title,s)}pos=100*(init_index-1)*-1,t.transformPage(i,pos,init_index)}else r(i.sectionContainer+"[data-index='1']").addClass("active"),r("body").addClass("viewing-page-1"),1==i.pagination&&r(".onepage-pagination li a[data-index='1']").addClass("active");else r(i.sectionContainer+"[data-index='1']").addClass("active"),r("body").addClass("viewing-page-1"),1==i.pagination&&r(".onepage-pagination li a[data-index='1']").addClass("active");return 1==i.pagination&&r(".onepage-pagination li a").click(function(){var e=r(this).data("index");t.moveTo(e)}),r(document).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(e){e.preventDefault();var a=e.originalEvent.wheelDelta||-e.originalEvent.detail;r("body").hasClass("disabled-onepage-scroll")||o(e,a)}),0!=i.responsiveFallback&&(r(window).resize(function(){n()}),n()),1==i.keyboard&&r(document).keydown(function(e){var a=e.target.tagName.toLowerCase();if(!r("body").hasClass("disabled-onepage-scroll"))switch(e.which){case 38:"input"!=a&&"textarea"!=a&&t.moveUp();break;case 40:case 32:"input"!=a&&"textarea"!=a&&t.moveDown();break;case 33:"input"!=a&&"textarea"!=a&&t.moveUp();break;case 34:"input"!=a&&"textarea"!=a&&t.moveDown();break;case 36:t.moveTo(1);break;case 35:t.moveTo(total);break;default:return}}),!1}}(window.jQuery);
